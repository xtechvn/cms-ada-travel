@using Entities.Models;
@using Entities.ViewModels.Attachment;
@{
    long DataId = (long)ViewBag.DataId;
    int Type = (int)ViewBag.Type;
    int UserId = (int)ViewBag.UserId;
    List<string> videoExtensionList = (List<string>)ViewBag.VideoExtension;
    List<string> imageExtensionList = (List<string>)ViewBag.ImageExtension;
    string id = DateTime.Now.ToString("yyyyMMddhhmmss") + DataId + Type;
    AttachmentsOption options = (AttachmentsOption)ViewBag.Option;
    string default_icon = "/images/icons/document.png";
    string elemnent_id = (string)ViewBag.ID;

}


<style>
    .attachment-widget .delete-file {
        background: #ED5C6A;
        color: #fff;
        position: absolute;
        right: -7px;
        top: -7px;
        z-index: 2;
        border: 0;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        outline: 0;
        cursor: pointer;
    }
    .file p {
        overflow:hidden;
    }
    .file-widget-@DataId .choose-ava {
        width: 100% !important;
    }
</style>

<div id="file-widget-@DataId" class="bg-white mb20 attachment-widget file-widget-@DataId" style="width:100% !important;" data-dataid="@DataId" data-type="@Type">
    <div class="lb-form pd10">
        Tệp đính kèm <i class="fa fa-paperclip"></i>
    </div>
    <div class="row list-choose lightgallery attachment-file-gallery">

    </div>
    <div class="flex align-center mb20 attach-edit">
        <div class="flex align-center pd10 mb20">
            <label class="choose mb0" style="width: 100% !important;">
                <input type="file" class="attachfile-add" multiple style="display: none;">
                <a class="btn-default" href="javascript:;" onclick="$(this).closest('.choose').find('.attachfile-add').trigger('click')" style="color: #fff;cursor: pointer; margin-top:10px;">
                    <i class="fa fa-upload"></i>&nbsp;&nbsp;Upload file
                </a>
                <button type="button" class="btn btn-primary mt10" onclick="_customer_manager_Detail.addComment(@ViewBag.ClientId)">Gửi</button>
                <a id="confirm-file-comment" href="javascript:;" class="btn-default confirm-file-comment mfp-hide" style="color: white; display:none;">Lưu tệp đính kèm</a>
            </label>
            <div class="gray txt_12" style="margin-top: 10px; width: 100% !important;">
                <p style="margin-left: 3px;">Upload nhiều file cùng lúc. Định dạng: .jpg,.png, .gif,.pdf, .doc & docx. Dung lượng tối đa 10Mb.</p>
            </div>
        </div>
    </div>
    <script>
        const _attach_@(id) = new AttachmentWidget('file-widget-@DataId',@Json.Serialize(options));
    </script>



</div>